/* ============================================================================
   PARLISCAN COMPONENT PATTERNS
   ============================================================================
   
   Reusable CSS classes for each UI element in the redesign.
   Requires parliscan-tokens.css to be loaded first.
   
   TABLE OF CONTENTS:
   1. Reset & Base
   2. Sidebar / Left Menu
   3. Buttons
   4. Filter Chips / Toggles
   5. Badges / Pills
   6. Tables
   7. Search Bars
   8. Status Indicator
   9. Section Labels
   10. Inputs & Forms
   11. Scrollbars
   12. Utility Classes
   
   ============================================================================ */


/* ============================================================================
   1. RESET & BASE
   ============================================================================ */

.ps-app {
  font-family: var(--ps-font-family);
  background: var(--ps-bg-base);
  color: var(--ps-text-secondary);
  font-size: var(--ps-text-md);
  line-height: var(--ps-leading-normal);
  min-height: 100vh;
  display: flex;
}

.ps-app *,
.ps-app *::before,
.ps-app *::after {
  box-sizing: border-box;
}


/* ============================================================================
   2. SIDEBAR / LEFT MENU
   ============================================================================
   
   Structure:
   <aside class="ps-sidebar">
     <div class="ps-sidebar__logo">
       <div class="ps-sidebar__logo-icon">P</div>
       <div>
         <div class="ps-sidebar__logo-title">ParliScan</div>
         <div class="ps-sidebar__logo-subtitle">Parliamentary Monitor</div>
       </div>
     </div>
     <nav class="ps-sidebar__nav">
       <button class="ps-sidebar__nav-item ps-sidebar__nav-item--active">
         <span class="ps-sidebar__nav-icon">⊘</span>
         Scanner
       </button>
       ...
     </nav>
     <div class="ps-sidebar__footer">
       ...status indicator goes here...
     </div>
   </aside>
   ============================================================================ */

.ps-sidebar {
  width: var(--ps-sidebar-width);
  border-right: 1px solid var(--ps-border-default);
  display: flex;
  flex-direction: column;
  padding: var(--ps-space-4) 0;
  flex-shrink: 0;
  background: var(--ps-bg-base);
  height: 100vh;
  position: sticky;
  top: 0;
  transition: width 0.2s ease;
  overflow: visible;
}

/* ── Collapsed state ── */
.ps-sidebar.collapsed {
  width: 48px;
}

.ps-sidebar.collapsed .ps-sidebar__logo {
  justify-content: center;
  padding: 0 0 var(--ps-space-5);
}

.ps-sidebar.collapsed .ps-sidebar__logo-title,
.ps-sidebar.collapsed .ps-sidebar__nav-label,
.ps-sidebar.collapsed .api-status-label {
  display: none;
}

.ps-sidebar.collapsed .ps-sidebar__nav {
  padding: 0 var(--ps-space-1);
}

.ps-sidebar.collapsed .ps-sidebar__nav-item {
  justify-content: center;
  padding: 7px 0;
  height: 34px;
}

.ps-sidebar.collapsed .ps-sidebar__nav-icon {
  width: 20px;
  height: 20px;
}

.ps-sidebar.collapsed .ps-sidebar__footer {
  padding: 0;
}

.ps-sidebar.collapsed .api-status {
  padding: 5px;
  border-radius: 50%;
  justify-content: center;
}

.ps-sidebar.collapsed .ps-sidebar__toggle-icon {
  transform: rotate(180deg);
}

/* ── Toggle button ── */
.ps-sidebar__toggle {
  position: absolute;
  right: -12px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  padding: 0;
  background: var(--ps-bg-raised);
  border: 1px solid var(--ps-border-default);
  border-radius: 50%;
  color: var(--ps-text-muted);
  cursor: pointer;
  font-size: 12px;
  line-height: 1;
  transition: color 0.15s ease, background 0.15s ease, border-color 0.15s ease;
  z-index: 10;
}

.ps-sidebar__toggle:hover {
  color: var(--ps-text-primary);
  background: var(--ps-bg-emphasis);
  border-color: var(--ps-border-strong);
}

.ps-sidebar__toggle-icon {
  display: inline-block;
  transition: transform 0.2s ease;
}

.ps-sidebar__logo {
  padding: 0 var(--ps-space-4) var(--ps-space-5);
  display: flex;
  align-items: center;
  gap: var(--ps-space-3);
  cursor: pointer;
  user-select: none;
  border-radius: var(--ps-radius-md);
  transition: opacity 0.15s ease;
}

.ps-sidebar__logo:hover {
  opacity: 0.75;
}

.ps-sidebar__logo-icon {
  width: 28px;
  height: 28px;
  border-radius: 7px;
  background: linear-gradient(135deg, var(--ps-accent), var(--ps-accent-hover));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--ps-text-lg);
  font-weight: var(--ps-weight-bold);
  color: #fff;
  flex-shrink: 0;
}

.ps-sidebar__logo-img {
  width: 32px;
  height: 32px;
  flex-shrink: 0;
  filter: brightness(0) invert(1);
  opacity: 0.9;
}

.ps-sidebar__logo-title {
  font-size: 19px;
  font-weight: var(--ps-weight-bold);
  color: var(--ps-text-primary);
  letter-spacing: var(--ps-tracking-tight);
}

.ps-sidebar__logo-subtitle {
  font-size: var(--ps-text-xs);
  color: var(--ps-text-faint);
  font-weight: var(--ps-weight-medium);
}

.ps-sidebar__nav {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 0 var(--ps-space-2);
}

.ps-sidebar__nav-item {
  display: flex;
  align-items: center;
  gap: var(--ps-space-3);
  padding: 7px 10px;
  height: 34px;
  border-radius: var(--ps-radius-lg);
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--ps-text-muted);
  font-size: var(--ps-text-md);
  font-weight: var(--ps-weight-medium);
  font-family: var(--ps-font-family);
  text-align: left;
  transition: all var(--ps-transition-fast);
  width: 100%;
}

.ps-sidebar__nav-item:hover {
  color: var(--ps-text-tertiary);
  background: var(--ps-bg-subtle);
}

.ps-sidebar__nav-item--active {
  background: var(--ps-bg-emphasis);
  color: var(--ps-text-primary);
  font-weight: var(--ps-weight-semi);
}

.ps-sidebar__nav-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  opacity: 0.7;
  flex-shrink: 0;
}

.ps-sidebar__nav-label {
  line-height: 1;
}

.ps-sidebar__nav-beta {
  font-size: 9px;
  font-weight: var(--ps-weight-semi);
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #a78bfa;
  background: rgba(167, 139, 250, 0.15);
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 4px;
  padding: 1px 5px;
  line-height: 1.4;
  flex-shrink: 0;
}

.ps-sidebar.collapsed .ps-sidebar__nav-beta {
  display: none;
}

.ps-sidebar__footer {
  margin-top: auto;
  padding: 0 var(--ps-space-2);
  display: flex;
  justify-content: center;
}

/* Sidebar quick-action box (e.g. quick search) */
.ps-sidebar__box {
  padding: var(--ps-space-3);
  border-radius: var(--ps-radius-xl);
  background: var(--ps-bg-subtle);
  border: 1px solid var(--ps-border-faint);
}

.ps-sidebar__box-label {
  font-size: var(--ps-text-sm);
  font-weight: var(--ps-weight-semi);
  color: var(--ps-text-muted);
  margin-bottom: var(--ps-space-2);
  text-transform: uppercase;
  letter-spacing: var(--ps-tracking-wider);
}


/* ============================================================================
   3. BUTTONS
   ============================================================================
   
   Usage:
   <button class="ps-btn ps-btn--primary">Run Scan</button>
   <button class="ps-btn ps-btn--secondary">+ Add</button>
   <button class="ps-btn ps-btn--ghost">Cancel</button>
   <button class="ps-btn ps-btn--sm">Small</button>
   ============================================================================ */

.ps-btn {
  padding: var(--ps-padding-btn);
  font-size: var(--ps-text-md);
  font-weight: var(--ps-weight-semi);
  font-family: var(--ps-font-family);
  border-radius: var(--ps-radius-lg);
  border: none;
  cursor: pointer;
  transition: all var(--ps-transition-normal);
  display: inline-flex;
  align-items: center;
  gap: var(--ps-space-2);
  white-space: nowrap;
  line-height: 1;
}

.ps-btn:hover {
  opacity: 0.85;
}

.ps-btn:active {
  transform: scale(0.98);
}

/* Primary: solid accent */
.ps-btn--primary {
  background: var(--ps-accent);
  color: #fff;
}

.ps-btn--primary:hover {
  background: var(--ps-accent-hover);
  opacity: 1;
}

/* Secondary: outlined accent */
.ps-btn--secondary {
  background: var(--ps-accent-soft);
  color: var(--ps-accent);
  border: 1px solid var(--ps-accent-border);
}

.ps-btn--secondary:hover {
  background: rgba(99, 102, 241, 0.12);
  opacity: 1;
}

/* Ghost: minimal, no background */
.ps-btn--ghost {
  background: transparent;
  color: var(--ps-text-tertiary);
  border: 1px solid var(--ps-border-strong);
}

.ps-btn--ghost:hover {
  background: var(--ps-bg-subtle);
  color: var(--ps-text-secondary);
  opacity: 1;
}

/* Small variant */
.ps-btn--sm {
  padding: 3px 10px;
  font-size: var(--ps-text-base);
  font-weight: var(--ps-weight-medium);
  border-radius: var(--ps-radius-sm);
}

/* Icon-only button */
.ps-btn--icon {
  padding: var(--ps-space-2);
  width: 28px;
  height: 28px;
  justify-content: center;
}


/* ============================================================================
   4. FILTER CHIPS / TOGGLES
   ============================================================================
   
   Usage:
   <button class="ps-chip">Hansard</button>
   <button class="ps-chip ps-chip--active">Written Qs</button>
   
   Container:
   <div class="ps-chip-group">
     <span class="ps-chip-group__label">Sources</span>
     <div class="ps-chip-group__items">
       <button class="ps-chip ps-chip--active">Hansard</button>
       ...
     </div>
   </div>
   ============================================================================ */

.ps-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  padding: var(--ps-padding-btn-sm);
  font-size: var(--ps-text-base);
  font-weight: var(--ps-weight-medium);
  font-family: var(--ps-font-family);
  border-radius: var(--ps-radius-md);
  border: 1px solid var(--ps-border-strong);
  background: transparent;
  color: var(--ps-text-secondary);
  cursor: pointer;
  transition: all var(--ps-transition-normal);
  white-space: nowrap;
}

.ps-chip:hover {
  background: var(--ps-bg-subtle);
  color: var(--ps-text-primary);
}

.ps-chip--active {
  border-color: var(--ps-accent-border);
  background: var(--ps-accent-soft);
  color: var(--ps-accent);
}

.ps-chip--active:hover {
  background: rgba(99, 102, 241, 0.12);
}

/* Per-source colour coding */
.ps-chip--active[data-source="hansard"]           { color: #f87171; background: rgba(248,113,113,0.15); border-color: rgba(248,113,113,0.4); }
.ps-chip--active[data-source="hansard"]:hover     { background: rgba(248,113,113,0.22); }
.ps-chip--active[data-source="written_questions"] { color: #fbbf24; background: rgba(251,191,36,0.15); border-color: rgba(251,191,36,0.4); }
.ps-chip--active[data-source="written_questions"]:hover { background: rgba(251,191,36,0.22); }
.ps-chip--active[data-source="written_statements"]{ color: #4ade80; background: rgba(74,222,128,0.15); border-color: rgba(74,222,128,0.4); }
.ps-chip--active[data-source="written_statements"]:hover { background: rgba(74,222,128,0.22); }
.ps-chip--active[data-source="edms"]              { color: #e879f9; background: rgba(232,121,249,0.15);border-color: rgba(232,121,249,0.4);}
.ps-chip--active[data-source="edms"]:hover        { background: rgba(232,121,249,0.22); }
.ps-chip--active[data-source="bills"]             { color: #fb923c; background: rgba(251,146,60,0.15); border-color: rgba(251,146,60,0.4); }
.ps-chip--active[data-source="bills"]:hover       { background: rgba(251,146,60,0.22); }
.ps-chip--active[data-source="divisions"]         { color: #7dd3fc; background: rgba(125,211,252,0.15); border-color: rgba(125,211,252,0.4); }
.ps-chip--active[data-source="divisions"]:hover   { background: rgba(125,211,252,0.22); }

.ps-chip-group {
  display: flex;
  flex-direction: column;
  gap: var(--ps-space-2);
}

.ps-chip-group__label {
  font-size: var(--ps-text-xs);
  font-weight: var(--ps-weight-semi);
  color: var(--ps-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--ps-tracking-wider);
}

.ps-chip-group__items {
  display: flex;
  gap: var(--ps-space-1);
  flex-wrap: wrap;
}

/* Filter bar container */
.ps-filter-bar {
  padding: var(--ps-space-3) var(--ps-padding-panel);
  border-bottom: 1px solid var(--ps-border-default);
  display: flex;
  gap: var(--ps-space-5);
  align-items: flex-start;
}

.ps-filter-bar__divider {
  width: 1px;
  height: 36px;
  background: var(--ps-border-default);
  flex-shrink: 0;
  align-self: center;
}


/* ============================================================================
   5. BADGES / PILLS
   ============================================================================
   
   Usage:
   <span class="ps-badge">EDM</span>
   <span class="ps-badge ps-badge--accent">Housing</span>
   <span class="ps-badge ps-badge--success">Active</span>
   <span class="ps-badge ps-badge--warning">Lords</span>
   ============================================================================ */

.ps-badge {
  font-size: var(--ps-text-sm);
  font-weight: var(--ps-weight-medium);
  padding: var(--ps-padding-badge);
  border-radius: var(--ps-radius-sm);
  letter-spacing: 0.02em;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  gap: var(--ps-space-1);

  /* Default: neutral */
  background: var(--ps-bg-emphasis);
  color: var(--ps-text-secondary);
  border: 1px solid var(--ps-border-strong);
}

.ps-badge--accent {
  background: var(--ps-accent-soft);
  color: var(--ps-accent);
  border-color: var(--ps-accent-border);
}

.ps-badge--success {
  background: var(--ps-success-soft);
  color: var(--ps-success);
  border-color: var(--ps-success-border);
}

.ps-badge--warning {
  background: var(--ps-warning-soft);
  color: var(--ps-warning);
  border-color: var(--ps-warning-border);
}

.ps-badge--danger {
  background: var(--ps-danger-soft);
  color: var(--ps-danger);
  border-color: var(--ps-danger-border);
}

.ps-badge--muted {
  background: transparent;
  color: var(--ps-text-tertiary);
  border-color: var(--ps-border-default);
}


/* ============================================================================
   6. TABLES
   ============================================================================
   
   Usage:
   <div class="ps-table-wrapper">
     <table class="ps-table">
       <thead>
         <tr><th>Name</th><th>Party</th></tr>
       </thead>
       <tbody>
         <tr><td>...</td><td>...</td></tr>
       </tbody>
     </table>
   </div>
   
   For the party dot inside a name cell:
   <td>
     <div class="ps-member">
       <span class="ps-party-dot ps-party-dot--labour"></span>
       <span class="ps-member__name">Keir Starmer</span>
       <span class="ps-member__party">Labour</span>
     </div>
   </td>
   ============================================================================ */

.ps-table-wrapper {
  overflow: auto;
  flex: 1;
}

.ps-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--ps-text-md);
}

.ps-table th {
  padding: var(--ps-space-2) var(--ps-space-5);
  text-align: left;
  font-size: var(--ps-text-sm);
  font-weight: var(--ps-weight-semi);
  color: var(--ps-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--ps-tracking-wide);
  position: sticky;
  top: 0;
  background: var(--ps-bg-raised);
  border-bottom: 1px solid var(--ps-border-default);
  white-space: nowrap;
}

.ps-table td {
  padding: var(--ps-padding-cell);
  border-bottom: 1px solid var(--ps-border-faint);
  color: var(--ps-text-secondary);
}

/* Subtle row highlight on hover */
.ps-table tbody tr {
  transition: background var(--ps-transition-fast);
  cursor: pointer;
}

.ps-table tbody tr:hover {
  background: var(--ps-bg-subtle);
}

/* Text truncation for summary/description columns */
.ps-table__truncate {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  max-width: 400px;
  color: var(--ps-text-secondary);
}

/* Results count / info bar above tables */
.ps-table-info {
  padding: var(--ps-space-3) var(--ps-padding-panel);
  border-bottom: 1px solid var(--ps-border-default);
  display: flex;
  align-items: center;
  gap: var(--ps-space-2);
  font-size: var(--ps-text-base);
  color: var(--ps-text-tertiary);
}

.ps-table-info__separator {
  color: var(--ps-text-faint);
}

/* Member cell with party dot */
.ps-member {
  display: flex;
  align-items: center;
  gap: var(--ps-space-2);
  white-space: nowrap;
}

#resultsTable .ps-member {
  white-space: normal;
  max-width: 150px;
}

.ps-member__name {
  color: var(--ps-text-primary);
  font-weight: var(--ps-weight-medium);
}

.ps-member__party {
  color: var(--ps-text-muted);
  font-size: var(--ps-text-base);
}

.ps-forum-detail {
  color: var(--ps-text-primary);
  display: block;
  margin-top: 2px;
}

/* Party dots */
.ps-party-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--ps-radius-full);
  display: inline-block;
  flex-shrink: 0;
}

.ps-party-dot--labour       { background-color: var(--ps-party-labour); }
.ps-party-dot--conservative { background-color: var(--ps-party-conservative); }
.ps-party-dot--libdem       { background-color: var(--ps-party-libdem); }
.ps-party-dot--snp          { background-color: var(--ps-party-snp); }
.ps-party-dot--green        { background-color: var(--ps-party-green); }
.ps-party-dot--plaid        { background-color: var(--ps-party-plaid); }
.ps-party-dot--dup          { background-color: var(--ps-party-dup); }
.ps-party-dot--independent  { background-color: var(--ps-party-independent); }


/* ============================================================================
   7. SEARCH BARS
   ============================================================================
   
   Usage:
   <div class="ps-search">
     <input class="ps-search__input" type="text" placeholder="Search Hansard...">
   </div>
   
   Wider variant for main content area:
   <div class="ps-search ps-search--wide">
     <input class="ps-search__input" type="text" placeholder="Search...">
   </div>
   ============================================================================ */

.ps-search {
  position: relative;
}

.ps-search__input {
  width: 100%;
  padding: var(--ps-padding-input);
  font-size: var(--ps-text-base);
  font-family: var(--ps-font-family);
  background: var(--ps-bg-muted);
  border: 1px solid var(--ps-border-strong);
  border-radius: var(--ps-radius-md);
  color: var(--ps-text-primary);
  outline: none;
  transition: border-color var(--ps-transition-normal);
}

.ps-search__input::placeholder {
  color: var(--ps-text-faint);
}

.ps-search__input:focus {
  border-color: var(--ps-accent-border);
  box-shadow: 0 0 0 2px var(--ps-accent-glow);
}

/* Wider variant for content areas */
.ps-search--wide .ps-search__input {
  padding: 8px 12px;
  font-size: var(--ps-text-md);
  border-radius: var(--ps-radius-lg);
}

/* Keyboard shortcut hint inside search */
.ps-search__hint {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  font-size: var(--ps-text-sm);
  color: var(--ps-text-faint);
  padding: 2px 6px;
  background: var(--ps-bg-subtle);
  border-radius: var(--ps-radius-sm);
  border: 1px solid var(--ps-border-default);
  pointer-events: none;
}


/* ============================================================================
   8. STATUS INDICATOR
   ============================================================================
   
   Usage (bottom of sidebar):
   <div class="ps-status">
     <span class="ps-status__dot ps-status__dot--connected"></span>
     API Connected
   </div>
   
   Or for disconnected:
   <div class="ps-status">
     <span class="ps-status__dot ps-status__dot--disconnected"></span>
     API Disconnected
   </div>
   ============================================================================ */

.ps-status {
  padding: var(--ps-space-2) var(--ps-space-3);
  font-size: var(--ps-text-sm);
  color: var(--ps-text-faint);
  display: flex;
  align-items: center;
  gap: var(--ps-space-2);
}

.ps-status__dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  border-radius: var(--ps-radius-full);
  flex-shrink: 0;
}

.ps-status__dot--connected {
  background-color: var(--ps-success);
  box-shadow: 0 0 4px var(--ps-success);
}

.ps-status__dot--disconnected {
  background-color: var(--ps-danger);
  box-shadow: 0 0 4px var(--ps-danger);
}

.ps-status__dot--checking {
  background-color: var(--ps-warning);
  animation: ps-pulse 1.5s ease-in-out infinite;
}

@keyframes ps-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}


/* ============================================================================
   9. SECTION LABELS
   ============================================================================
   
   Usage:
   <span class="ps-label">Sources</span>
   <h2 class="ps-heading">Scanner</h2>
   ============================================================================ */

.ps-label {
  font-size: var(--ps-text-xs);
  font-weight: var(--ps-weight-semi);
  color: var(--ps-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--ps-tracking-wider);
}

.ps-heading {
  font-size: var(--ps-text-xl);
  font-weight: var(--ps-weight-bold);
  color: var(--ps-text-primary);
  margin: 0;
  letter-spacing: var(--ps-tracking-tight);
}

.ps-subheading {
  font-size: var(--ps-text-lg);
  font-weight: var(--ps-weight-semi);
  color: var(--ps-text-primary);
  margin: 0;
}


/* ============================================================================
   10. INPUTS & FORMS
   ============================================================================ */

.ps-input {
  width: 100%;
  padding: 8px 12px;
  font-size: var(--ps-text-md);
  font-family: var(--ps-font-family);
  background: var(--ps-bg-muted);
  border: 1px solid var(--ps-border-strong);
  border-radius: var(--ps-radius-md);
  color: var(--ps-text-primary);
  outline: none;
  transition: border-color var(--ps-transition-normal);
}

.ps-input::placeholder {
  color: var(--ps-text-faint);
}

.ps-input:focus {
  border-color: var(--ps-accent-border);
  box-shadow: 0 0 0 2px var(--ps-accent-glow);
}

.ps-select {
  appearance: none;
  width: 100%;
  padding: 8px 32px 8px 12px;
  font-size: var(--ps-text-md);
  font-family: var(--ps-font-family);
  background: var(--ps-bg-muted);
  border: 1px solid var(--ps-border-strong);
  border-radius: var(--ps-radius-md);
  color: var(--ps-text-primary);
  outline: none;
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2371717a' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  transition: border-color var(--ps-transition-normal);
}

.ps-select:focus {
  border-color: var(--ps-accent-border);
  box-shadow: 0 0 0 2px var(--ps-accent-glow);
}

.ps-textarea {
  width: 100%;
  padding: 8px 12px;
  font-size: var(--ps-text-md);
  font-family: var(--ps-font-family);
  background: var(--ps-bg-muted);
  border: 1px solid var(--ps-border-strong);
  border-radius: var(--ps-radius-md);
  color: var(--ps-text-primary);
  outline: none;
  resize: vertical;
  min-height: 80px;
  transition: border-color var(--ps-transition-normal);
}

.ps-textarea:focus {
  border-color: var(--ps-accent-border);
  box-shadow: 0 0 0 2px var(--ps-accent-glow);
}

/* ============================================================================
   10b. EMAIL TAG INPUT
   ============================================================================ */

.ps-email-input {
  background: var(--ps-bg-muted);
  border: 1px solid var(--ps-border-strong);
  border-radius: var(--ps-radius-md);
  padding: 6px 8px;
  transition: border-color var(--ps-transition-normal);
}

.ps-email-input:focus-within {
  border-color: var(--ps-accent-border);
  box-shadow: 0 0 0 2px var(--ps-accent-glow);
}

.ps-email-input__tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 6px;
}

.ps-email-input__tags:empty {
  display: none;
}

.ps-email-input__tag {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 3px 8px 3px 10px;
  background: rgba(99,102,241,0.15);
  border: 1px solid rgba(99,102,241,0.35);
  border-radius: 20px;
  font-size: var(--ps-text-sm);
  color: var(--ps-text-primary);
  line-height: 1.4;
  max-width: 100%;
  word-break: break-all;
}

.ps-email-input__tag-remove {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: none;
  background: rgba(99,102,241,0.2);
  color: var(--ps-text-secondary);
  font-size: 12px;
  line-height: 1;
  cursor: pointer;
  padding: 0;
  flex-shrink: 0;
  transition: background var(--ps-transition-normal), color var(--ps-transition-normal);
}

.ps-email-input__tag-remove:hover {
  background: rgba(248,113,113,0.3);
  color: #f87171;
}

.ps-email-input__row {
  display: flex;
  gap: 6px;
  align-items: center;
}

.ps-email-input__field {
  flex: 1;
  min-width: 0;
  padding: 4px 8px;
  font-size: var(--ps-text-md);
  font-family: var(--ps-font-family);
  background: transparent;
  border: none;
  color: var(--ps-text-primary);
  outline: none;
}

.ps-email-input__field::placeholder {
  color: var(--ps-text-faint);
}

.ps-email-input__error {
  font-size: var(--ps-text-sm);
  color: #f87171;
  margin-top: 4px;
  min-height: 0;
}

.ps-email-input__error:empty {
  display: none;
}


/* ============================================================================
   11. SCROLLBARS
   ============================================================================ */

.ps-app ::-webkit-scrollbar {
  width: var(--ps-scrollbar-width);
  height: var(--ps-scrollbar-width);
}

.ps-app ::-webkit-scrollbar-track {
  background: transparent;
}

.ps-app ::-webkit-scrollbar-thumb {
  background: var(--ps-border-strong);
  border-radius: 3px;
}

.ps-app ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.12);
}


/* ============================================================================
   12. LAYOUT UTILITIES
   ============================================================================ */

/* Main content area */
.ps-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Top header bar */
.ps-header {
  padding: var(--ps-space-3) var(--ps-padding-panel);
  border-bottom: 1px solid var(--ps-border-default);
  display: flex;
  align-items: center;
  gap: var(--ps-space-3);
  min-height: var(--ps-header-height);
}

.ps-header__actions {
  margin-left: auto;
  display: flex;
  gap: var(--ps-space-2);
  align-items: center;
}

/* Content panels */
.ps-content {
  flex: 1;
  overflow: auto;
  display: flex;
  flex-direction: column;
}

/* Calendar day grouping */
.ps-day-group__label {
  font-size: var(--ps-text-sm);
  font-weight: var(--ps-weight-semi);
  color: var(--ps-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--ps-tracking-wide);
  padding: var(--ps-space-2) 0 var(--ps-space-1);
}

.ps-event-row {
  display: flex;
  align-items: center;
  gap: var(--ps-space-4);
  padding: var(--ps-space-2) var(--ps-space-3);
  border-radius: var(--ps-radius-lg);
  transition: background var(--ps-transition-fast);
  cursor: pointer;
}

.ps-event-row:hover {
  background: var(--ps-bg-subtle);
}

.ps-event-row__time {
  font-size: var(--ps-text-base);
  color: var(--ps-text-muted);
  width: 42px;
  flex-shrink: 0;
  font-variant-numeric: tabular-nums;
}

.ps-event-row__title {
  font-size: var(--ps-text-md);
  color: var(--ps-text-primary);
  font-weight: var(--ps-weight-medium);
  flex: 1;
}

.ps-event-row__location {
  font-size: var(--ps-text-base);
  color: var(--ps-text-faint);
  width: 120px;
  text-align: right;
}

/* Tabular numbers for data columns */
.ps-tabular {
  font-variant-numeric: tabular-nums;
}
